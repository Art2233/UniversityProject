<div class="page-header">
    <h1>{{ 'INCOMING_DOCUMENTS' | translate }}</h1>
</div>

<div class="table-wrapper mat-elevation-z0">
    <table
        mat-table
        [dataSource]="dataSource"
        class="doc-table"
        matSort (matSortChange)="sortChange($event)"
    >

        <ng-container matColumnDef="select">
            <th
                mat-header-cell
                *matHeaderCellDef
            >
                <mat-checkbox
                    color="primary"
                    (change)="$event ? toggleAllRows() : null"
                    [checked]="isAllSelected()"
                    [indeterminate]="isSomeSelected() && !isAllSelected()"
                ></mat-checkbox>
            </th>
            <td
                mat-cell
                *matCellDef="let row"
            >
                <mat-checkbox
                    color="primary"
                    (click)="$event.stopPropagation()"
                    (change)="$event ? row.isSelected = !row.isSelected : null"
                    [checked]="row.isSelected"
                ></mat-checkbox>
            </td>
        </ng-container>

        <ng-container matColumnDef="date">
            <th
                mat-header-cell
                *matHeaderCellDef
                mat-sort-header
                sortActionDescription="Sort by date"
            > {{ 'DATE' | translate }} </th>
            <td
                mat-cell
                *matCellDef="let element"
            > {{element.date}} </td>
        </ng-container>

        <ng-container matColumnDef="name">
            <th
                mat-header-cell
                *matHeaderCellDef
                mat-sort-header
                sortActionDescription="Sort by name"
            > {{ 'DOCUMENT' | translate }} </th>
            <td
                mat-cell
                *matCellDef="let element"
            >
                <div class="name-cell">
                    <span>{{element.name}}</span>
                </div>
            </td>
        </ng-container>

        <ng-container matColumnDef="number">
            <th
                mat-header-cell
                *matHeaderCellDef
                mat-sort-header
                sortActionDescription="Sort by number"
            > {{ 'NUMBER' | translate }} </th>
            <td
                mat-cell
                *matCellDef="let element"
            > {{element.number}} </td>
        </ng-container>

        <ng-container matColumnDef="status">
            <th
                mat-header-cell
                *matHeaderCellDef
                mat-sort-header
                sortActionDescription="Sort by status"
            > {{ 'STATUS' | translate }} </th>
            <td
                mat-cell
                *matCellDef="let element"
            >
                <span class="status-badge" [ngClass]="element.status.class">
                    {{ element.status.text | translate }}
                </span>
            </td>
        </ng-container>

        <tr
            mat-header-row
            *matHeaderRowDef="displayedColumns"
        ></tr>
        <tr
            mat-row
            *matRowDef="let row; columns: displayedColumns;"
            class="doc-row"
        ></tr>
    </table>
</div>

<div class="btn-section">
    <button
        matButton="filled"
        [disabled]="isDisabledUpload()"
    >
        <mat-icon>upload</mat-icon>
        {{ 'UPLOAD' | translate }}
    </button>
</div>